(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_category_page1-goodsModule-combination"],{"185f":function(t,o,e){var i=e("24fb"),a=e("1de5"),n=e("b6369");o=i(!1);var s=a(n);o.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 页面左右间距 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-6d9cefe3]{background:#333}.combinationBox .topInfo[data-v-6d9cefe3]{margin:%?40?% 0}.combinationBox .topInfo .topBg[data-v-6d9cefe3]{margin:%?30?% auto;width:%?670?%;height:%?86?%;line-height:%?86?%;text-align:center;background:url('+s+") no-repeat 50%;background-size:contain;overflow:hidden}.combinationBox .combinationList[data-v-6d9cefe3]{display:flex;flex-flow:wrap;justify-content:space-between;padding:0 %?20?%}.combinationBox .combinationList .combinationItem[data-v-6d9cefe3]{margin-bottom:%?30?%;background:#fff}.combinationBox .combinationList .combinationItem .imgBox[data-v-6d9cefe3]{width:%?348?%;height:%?314?%;background:#f5f5f5}.combinationBox .combinationList .combinationItem .imgBox uni-image[data-v-6d9cefe3]{width:100%;height:100%;object-fit:contain}.combinationBox .combinationList .combinationItem .itemInfoBox[data-v-6d9cefe3]{padding:%?20?%;width:%?348?%}.combinationBox .combinationList .combinationItem .itemInfoBox .itemTit[data-v-6d9cefe3]{color:#333;font-size:%?28?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:%?15?%}.combinationBox .combinationList .combinationItem .itemInfoBox .itemNum[data-v-6d9cefe3]{color:#c5aa7b;font-size:%?20?%;font-weight:400;border:%?2?% solid #e4e5e6;display:inline;padding:%?5?% %?10?%}.combinationBox .combinationList .combinationItem .itemInfoBox .addInfo[data-v-6d9cefe3]{display:flex;align-items:center;justify-content:space-between}.combinationBox .combinationList .combinationItem .itemInfoBox .addInfo .price[data-v-6d9cefe3]{font-size:%?40?%;color:#c83732}.combinationBox .combinationList .combinationItem .itemInfoBox .addInfo .selectBtn[data-v-6d9cefe3]{width:%?80?%;height:%?80?%;display:flex;align-items:center;justify-content:center}.combinationBox .combinationList .combinationItem .itemInfoBox .addInfo .selectBtn uni-image[data-v-6d9cefe3]{width:%?54?%;height:%?54?%}.goosDetailshow-box[data-v-6d9cefe3]{padding-bottom:%?10?%}.goosDetailshow-box .detailImg-box[data-v-6d9cefe3]{margin-top:%?30?%;margin-left:%?30?%;border-bottom:%?2?% solid #ededed;padding-bottom:%?20?%;width:100%}.goosDetailshow-box .detailImg-box .detailImg[data-v-6d9cefe3]{width:%?180?%;height:%?180?%}.goosDetailshow-box .color-box[data-v-6d9cefe3]{padding:%?30?% %?30?%;border-bottom:%?1?% solid #ededed;width:100%}.goosDetailshow-box .color-box .colorName-box[data-v-6d9cefe3]{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:center;margin-top:%?30?%;margin-left:%?-30?%}.goosDetailshow-box .color-box .colorName-box .colorName[data-v-6d9cefe3]{background-color:#fff;margin-left:%?30?%;padding:%?10?% %?32?%;font-size:%?26?%;border:%?2?% solid #e4e5e6;z-index:2;color:#333}.goosDetailshow-box .color-box .colorName-box .colorName-on[data-v-6d9cefe3]{box-shadow:0 0 %?20?% rgba(0,0,0,.1);color:#c5aa7b;margin-left:%?30?%;padding:%?10?% %?32?%;font-size:%?26?%;text-align:center;z-index:1;border:none}.goosDetailshow-box .modelNum-box[data-v-6d9cefe3]{padding:%?30?% %?30?%;border-bottom:%?1?% solid #ededed;width:%?690?%}.goosDetailshow-box .modelNum-box .modelNumName-box[data-v-6d9cefe3]{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:center;margin-top:%?30?%;margin-left:%?-30?%}.goosDetailshow-box .modelNum-box .modelNumName-box .modelNumName-on[data-v-6d9cefe3]{background-color:#ffe4d0;color:#ff7800;margin-left:%?30?%;padding:%?10?% %?32?%;border-radius:%?28?%;border:%?1?% solid #ff7800;font-size:%?26?%;text-align:center}.goosDetailshow-box .modelNum-box .modelNumName-box .modelNumName[data-v-6d9cefe3]{background-color:#f5f5f5;margin-left:%?30?%;padding:%?10?% %?32?%;border-radius:%?28?%;font-size:%?26?%}.goosDetailshow-box .goodsNum-box[data-v-6d9cefe3]{padding:%?30?% %?30?%;width:100%;padding-bottom:%?200?%}.goosDetailshow-box .goodsNum-box .goodsNum[data-v-6d9cefe3]{height:%?50?%}.goosDetailshow-box .goodsNum-box .goodsNum uni-text[data-v-6d9cefe3]{display:inline-block;width:%?50?%;height:%?50?%;border:%?1?% solid #999;text-align:center;line-height:%?50?%}.goosDetailshow-box .goodsNum-box .goodsNum .subtract[data-v-6d9cefe3]{border-right:%?0?%}.goosDetailshow-box .goodsNum-box .goodsNum .add[data-v-6d9cefe3]{border-left:%?0?%}.goosDetailshow-box .bottom-line[data-v-6d9cefe3]{border-bottom:%?1?% solid #ededed}.goosDetailshow-box .huabei-box[data-v-6d9cefe3]{padding:%?30?% %?30?%;width:%?690?%}.goosDetailshow-box .huabei-box .fenqi-box[data-v-6d9cefe3]{margin-top:%?15?%;width:120%}.goosDetailshow-box .huabei-box .fenqi-box .huabei-item[data-v-6d9cefe3]{display:inline-block;background:#f3f3f3;padding:%?16?% %?24?%;margin:%?5?% %?10?%;border-radius:%?15?%;text-align:center;font-size:%?7?%}.goosDetailshow-box .huabei-box .fenqi-box .huabei-item .huabei-period[data-v-6d9cefe3]{display:block}.goosDetailshow-box .huabei-box .fenqi-box .fenqi-on[data-v-6d9cefe3]{border:1px solid #ef7f93;color:#ef7f93}.goosDetailshow-box .huabei-box .fenqi-box .disabled[data-v-6d9cefe3]{color:#cacaca}.goosDetailshow-box .goosDetailbut-box[data-v-6d9cefe3]{justify-content:center}.goosDetailshow-box .goosDetailbut-box .joinShopCartBut[data-v-6d9cefe3]{width:%?343?%;height:%?80?%;border-radius:%?40?% 0 0 %?40?%;background-color:#ffc300;color:#fffefe;font-size:%?28?%;line-height:%?80?%;text-align:center;margin-left:%?30?%}.goosDetailshow-box .goosDetailbut-box .buyNowBut[data-v-6d9cefe3]{width:%?343?%;height:%?80?%;background-color:#333;font-size:%?28?%;line-height:%?80?%;text-align:center;color:#ffebc4}.goosDetailshow-box .goosDetailbut-box .cancelBtn[data-v-6d9cefe3]{background-color:#fff!important;border:%?2?% solid #333;color:#333}.goosDetailshow-box .btnBox[data-v-6d9cefe3]{padding-bottom:%?20?%}body.?%PAGE?%[data-v-6d9cefe3]{background:#333}",""]),t.exports=o},"1de5":function(t,o,e){"use strict";t.exports=function(t,o){return o||(o={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),o.hash&&(t+=o.hash),/["'() \t\n]/.test(t)||o.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"4cff":function(t,o,e){"use strict";e.r(o);var i=e("fa3b"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(o,t,(function(){return i[t]}))}(n);o["default"]=a.a},"583c":function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAAXNSR0IArs4c6QAAAVBQTFRFAAAAAAAAAAAAAAAAICAgHBwcLi4uKioqJCQkMDAwKysrMzMzLi4uLCwsMTExLy8vMzMzMjIyLi4uLy8vMjIyMTExMDAwMjIyLy8vMjIyMTExLy8vMTExMjIyMjIyMDAwMzMzMTExMDAwMjIyMTExMDAwMjIyMjIyMjIyMjIyMTExMTExMTExMzMzMjIyMTExMzMzMTExMzMzMTExMzMzMjIyMjIyMzMzMjIyMjIyMTExMzMzMjIyMjIyMTExMjIyMjIyMzMzMjIyMjIyMzMzMzMzMjIyMjIyMjIyMjIyMzMzMzMzMjIyMjIyMjIyMjIyMjIyMjIyMjIyMzMzMzMzMzMzMjIyMjIyMzMzMzMzMjIyMzMzMzMzMzMzMzMzMjIyMzMzMzMzMjIyMzMzMzMzMzMzMzMzMjIyMjIyMzMzdHR0hISElZWVra2t1tbW////PGWjQQAAAGh0Uk5TAAECBAgJCwwOEBIUHB0fJigpLDEzNDU4PD0/QURHSEtLU1VXXV9gYWdrbW5zdHV4foGDh4eJi42Pk5aXmZ+gpKerra6vsLO2t7i6v8LFxsrN0NHT2Nnb3+Lj5Obn6Ovu8PHz9vf7/P16xxjxAAABZElEQVQYGe3BZ1MTUQCF4aOJ2FGxiw079t57V+wFxBaFGM8rIv//m+skjOzm3r0bxg864/Povz+nQcegetGg45B6cXfkl6dwWb1bAk80D2/4rHm4B/3q3RnzfmzWZDNmYmyb5tpjqjArNddaU4XfKafeogrfUt4rk2aOKu8GFZgtyjtu0tzqU96QSfNzFawyab6kgoWTJm2/ip6ZtDUqumpS/GmBio6YFD9Ul+0mwZxUlxWYcmaHujVMObNM3R6ZhFEFXDTlfE0Bw6aUOaiAzaaU2aCApZgybtYU8tbA1EzINODHCnpgYGomZBrwOQWdNfDtR8h3MLsVtNeUMP0KWoeJ8weFLfpq4nxHEa9NlDmmiJsmygwq4oRLtPoUsYsSL/Q3qZ2e+HhYs4bGm9cXq4JhMjvVNvAFOK8KbpO5oLZ9ZEZVwSkyB9S2lcx9VbD8JYzU1XEFxleritrG9fptYFNd/6KfGQPcZfDPLlgAAAAASUVORK5CYII="},"742b":function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAAXNSR0IArs4c6QAAAZVQTFRFAAAAAAAA////v7+/v7+/xsbGzMzM0dHRv7+/1dXVyMjIz8/P0tLS1dXVzMzMyMjIysrK09PTzs7OycnJzMzMzc3Nzs7Oy8vLy8vLzc3NycnJysrKyMjIzMzMzc3NysrKzMzMy8vLzc3NysrKy8vLzMzMy8vLzs7OycnJzc3NysrKy8vLzMzMysrKysrKycnJzc3Ny8vLzc3NzMzMysrKzMzMzMzMzc3Ny8vLzMzMysrKzMzMzMzMysrKy8vLzMzMzc3NzMzMzMzMzMzMy8vLzc3NzMzMzMzMy8vLy8vLzc3NzMzMzMzMzc3Ny8vLzMzMy8vLzMzMy8vLzMzMzMzMy8vLzMzMzMzMy8vLy8vLzMzMzMzMy8vLzMzMzMzMzMzMy8vLzc3Ny8vLy8vLzMzMy8vLzMzMzMzMzMzMzMzMy8vLzMzMzMzMzMzMzMzMzc3NzMzMy8vLzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMy8vLzMzMzMzMzMzMy8vLy8vLzMzMzMzMzMzMzMzMAdJ1NQAAAIZ0Uk5TAAECBAgJCgsMDA4QERIUHB0dHyYoKSosMTM0NTg8PT9BREdISktTU1VWV11fYGFkZ2trbW5zdHV2eH6BgoOEh4mLjI2Pk5aXmJmZn6Cio6Snq62ur7Cws7a3uLm6v8LExcXGys3P0NHS09jZ2tvf3+Lj5Obo6evu7/Dx8/b39/j5+/z8/f4ezuFfAAABn0lEQVQYGe3B93dLYQDH4W97Q60aUYKg0TZGVY1YsYpSNWvUKkGtWkEVUYSS+vzdrpPk6L153zc3PX7gHM+j//6cAhUpNaJAxW414nrulwdwRo1bAPc1C6/5qFm4AXE17iikVfXipV2HZtoKWVVNYbdUM62CIVVNYTWhgNh3xlRPAq4o6BlfPdWxHfYp6BKsVB2noV1BB2CL6nhCqUVBG+GI3OaXeKyQ5TAstxScUkjzZ/Jyy0Kvwh4yPVdO12CFws5BUk7vmGxS2F7olUscbqtGJxyXSzccVo0lcEsu/ZBWrQITchmFVtW6A4tk5xXJy2AA2mWXhCEZ7ISM7DKQkcF6GJTdBUjKYCHclV2eoieTN0zKqvUHozIagWWy6YJ+GR2DLtkcgm4Z9cB+2YxAXEar4bwsmj7wVmZzpnkkiza4KovnfGmWWQ9kZXEZ7uXMXkFKFgdxKLXIYjMOY/qbeH2f3u9R1abx4sV5imAXvrTKEt+AE4pgGN9JlW3Dl1cEffh2qGwDvpuKYPFTyMVUcRbG2xSFt3aNfkusi+lf9BNDTcjpzIUtVQAAAABJRU5ErkJggg=="},"8ba3":function(t,o,e){"use strict";e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return n})),e.d(o,"a",(function(){return i}));var i={uPopup:e("68cb").default},a=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",{staticClass:"combinationBox"},[i("v-uni-view",{staticClass:"topInfo"},[i("v-uni-view",{staticClass:"topBg"},[i("v-uni-swiper",{staticClass:"swiper",attrs:{circular:t.circular,autoplay:t.autoplay,vertical:t.vertical,duration:t.duration}},t._l(t.ruleList,(function(o,e){return i("v-uni-swiper-item",{key:e},[i("v-uni-view",{staticClass:"swiper-item uni-bg-red"},[t._v(t._s(o.price)+"元任选"+t._s(o.number)+"件")])],1)})),1)],1)],1),i("v-uni-view",{staticClass:"combinationList"},t._l(t.productList,(function(o,a){return i("v-uni-view",{key:a,staticClass:"combinationItem"},[i("v-uni-view",{staticClass:"imgBox"},[i("v-uni-image",{attrs:{src:o.image}})],1),i("v-uni-view",{staticClass:"itemInfoBox"},[i("v-uni-view",{staticClass:"itemTit"},[t._v(t._s(o.productName))]),i("v-uni-view",{staticClass:"itemNum"},[t._v(t._s(o.number)+"人付款")]),i("v-uni-view",{staticClass:"addInfo"},[i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(o.price))]),i("v-uni-view",{staticClass:"selectBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showRuleBox(o,a)}}},[0===o.selected?i("v-uni-image",{attrs:{src:e("742b")}}):i("v-uni-image",{attrs:{src:e("583c")}})],1)],1)],1)],1)})),1),i("u-popup",{attrs:{mode:"bottom","border-radius":"14"},model:{value:t.goosDetailshowFlag,callback:function(o){t.goosDetailshowFlag=o},expression:"goosDetailshowFlag"}},[i("v-uni-view",{staticClass:"goosDetailshow-box"},[i("v-uni-view",{staticClass:"detailImg-box flex-row-plus"},[i("v-uni-image",{staticClass:"detailImg",attrs:{src:t.skuImg}}),i("v-uni-view",{staticClass:"flex-column-plus mar-left-40"},[i("v-uni-view",{staticClass:"font-color-C5AA7B"},[i("v-uni-label",{staticClass:"fs24"},[t._v("¥")]),i("v-uni-label",{staticClass:"fs36 mar-left-10",domProps:{textContent:t._s(1==t.detailList.activityType?t.skuOriginalPrice:t.skuPrice)}})],1),i("v-uni-label",{staticClass:"fs24 font-color-999 mar-top-20"},[t._v("库存 "+t._s(t.stockNumber)+" 件")]),i("v-uni-label",{staticClass:"fs24 mar-top-20"},[t._v("已选")])],1)],1),i("v-uni-view",{staticClass:"color-box flex-column-plus"},t._l(t.skuProdList.names,(function(o,e){return i("v-uni-view",{key:e},[i("v-uni-label",{staticClass:"fs24 font-color-999"},[t._v(t._s(o.skuName))]),i("v-uni-view",{staticClass:"colorName-box"},t._l(o.values,(function(o,a){return i("v-uni-view",{key:a,staticClass:"pad-bot-30"},[i("v-uni-view",{staticClass:"colorName",class:{"colorName-on":t.subIndex[e]==a},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.colorActiveClick(o,e,a)}}},[t._v(t._s(o.skuValue))])],1)})),1)],1)})),1),i("v-uni-view",{staticClass:"goodsNum-box flex-row-plus flex-sp-between"},[i("v-uni-label",{staticClass:"font-color-999 fs24"},[t._v("数量")]),i("v-uni-view",{staticClass:"goodsNum"},[i("v-uni-text",{staticClass:"subtract",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.numSub()}}},[t._v("-")]),i("v-uni-text",{staticClass:"goodsNumber",model:{value:t.buyNum,callback:function(o){t.buyNum=o},expression:"buyNum"}},[t._v(t._s(t.buyNum))]),i("v-uni-text",{staticClass:"add",on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.numAdd()}}},[t._v("+")])],1)],1),i("v-uni-view",{staticClass:"flex-items flex-sp-around btnBox"},[i("v-uni-view",{staticClass:"goosDetailbut-box flex-row-plus",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.goosDetailshowFlag=!1}}},[i("v-uni-view",{staticClass:"buyNowBut cancelBtn"},[t._v("取消")])],1),i("v-uni-view",{staticClass:"goosDetailbut-box flex-items-plus",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.goosDetailshowFlag=!1}}},[i("v-uni-view",{staticClass:"buyNowBut",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.addCart.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)],1)},n=[]},"8eb1":function(t,o,e){"use strict";var i=e("a7cd"),a=e.n(i);a.a},"9f55":function(t,o,e){"use strict";e.r(o);var i=e("8ba3"),a=e("4cff");for(var n in a)"default"!==n&&function(t){e.d(o,t,(function(){return a[t]}))}(n);e("8eb1");var s,c=e("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"6d9cefe3",null,!1,i["a"],s);o["default"]=r.exports},a7cd:function(t,o,e){var i=e("185f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("041345a6",i,!0,{sourceMap:!1,shadowMode:!1})},b6369:function(t,o,e){t.exports=e.p+"static/img/combinationBg.c4363b1b.png"},fa3b:function(t,o,e){"use strict";e("4160"),e("d81d"),e("d3b7"),e("159b"),e("ddb0"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=e("7df2"),a=e("85d9"),n={name:"combination",data:function(){return{page:1,pageSize:10,list:[],pricing:{},productList:[],ruleList:[],autoplay:!0,duration:2e3,vertical:!0,circular:!0,buyNum:1,goosDetailshowFlag:!1,shopId:0,skuId:0,terminal:1,skuPrice:"",skuOriginalPrice:"",attrItemIdArr:[],detailList:[],subIndex:[],selectArr:[],skuProdList:[],stockNumber:0,skuImg:"",currentIndex:null,priceId:null}},onLoad:function(t){console.log(t.priceId,"priceId"),this.priceId=t.priceId,this.getSelectByPriceId(),this.getSelectProductListByPriceId()},methods:{getSelectByPriceId:function(){var t=this;wx.showLoading({title:"加载中..."}),i.request(a.selectByPriceId,{priceId:this.priceId},"GET").then((function(o){uni.hideLoading(),t.ruleList=o.data})).catch((function(t){}))},showRuleBox:function(t,o){this.shopId=t.shopId,this.productId=t.productId,this.skuId=t.skuId,this.currentIndex=o,this.goosDetailshowFlag=!0,this.getProductSku(),this.queryProductDetail()},getSelectProductListByPriceId:function(){var t=this;i.request(a.selectProductListByPriceId,{priceId:this.priceId,page:this.page,pageSize:this.pageSize},"GET").then((function(o){uni.hideLoading();var e=o.data.list;e.forEach((function(o){o["selected"]=0,t.productList.push(o)}))})).catch((function(t){}))},goodsDateils:function(t,o,e){uni.navigateTo({url:"goodsDetails?shopId="+t+"&productId="+o+"&skuId="+e})},queryProductDetail:function(){var t=this;i.request(a.QueryProductDetail,{shopId:this.shopId,productId:this.productId,skuId:this.skuId,terminal:1},"GET").then((function(o){t.detailList=o.data,t.skuPrice=o.data.price,t.skuOriginalPrice=o.data.originalPrice;for(var e=0;e<o.data.attrList.length;e++)t.subIndex[e]=0;t.attrItemIdArr[0]=o.data.attrList[0].attrValueList[0].id,t.$forceUpdate()})).catch((function(t){}))},getProductSku:function(){var t=this;i.request(a.QueryProductSku,{skuId:this.skuId,productId:this.productId},"GET").then((function(o){t.skuProdList=o.data,t.attrList=o.data.names,t.attrValueList=o.data.names[0].values,console.log(t.attrValueList[0],"arr"),t.colorActiveClick(t.attrValueList[0],0,0),t.skuProdId=t.skuId,t.skuPrice=o.data.price,t.skuOriginalPrice=o.data.originalPrice,t.stockNumber=o.data.stockNumber,t.detailList.ifHuabei=o.data.ifHuabei,t.$forceUpdate()})).catch((function(t){}))},colorActiveClick:function(t,o,e){var i=this;console.log(t,o,e),console.log(this.selectArr),console.log(this.subIndex),console.log(this.attrItemIdArr),i.selectArr[o]=t,i.subIndex[o]=e,i.attrItemIdArr[o]=t.valueCode,i.checkItem(),i.checkItemDataClick(i.attrItemIdArr)},checkItemDataClick:function(t){for(var o="",e=0;e<t.length;e++)o+=t[e]+",";o=o.substring(0,o.length-1);var i=this.skuProdList.map;for(var a in i)o==a&&(this.skuProdId=i[a].skuId,this.skuImg=i[a].skuImg,this.skuPrice=i[a].price,this.skuOriginalPrice=i[a].originalPrice,this.stockNumber=i[a].stockNumber);for(var n="",s=0;s<t.length;s++)1===s&&t.length>1?n+=","+t[s]:n+=t[s];for(var c in this.skuProdList.map)if(c==n){if(this.skuImg=this.skuProdList.map[c].image,this.detailList.originalPrice=this.skuProdList.map[c].originalPrice,1==this.skuProdList.map[c].activityType)return this.ifGroupPro=!0,!1;this.ifGroupPro=!1}},checkItem:function(){var t=this,o=t.attrList,e=[];for(var i in o)e[i]=t.selectArr[i]?t.selectArr[i]:"",t.subIndex[i]||(t.subIndex[i]=0),t.attrItemIdArr[i]||(t.attrItemIdArr[i]=o[i].values[0].valueCode);for(var a in o){var n=e[a];for(var s in o[a].item)e[a]=o[a].item[s].name;e[a]=n}t.$forceUpdate()},numSub:function(){console.log("this.buyNum",this.buyNum),this.buyNum>1?this.buyNum=this.buyNum-1:uni.showToast({title:"亲！至少一件哦！",icon:"none"})},numAdd:function(){this.buyNum<this.stockNumber?this.buyNum=this.buyNum+1:uni.showToast({title:"库存不足！",icon:"none"})},addCart:function(){var t=this;this.stockNumber<1?uni.showToast({title:"库存不足",icon:"none"}):(wx.showLoading({title:"添加中..."}),i.request(a.ShoppingaddCart,{skuId:this.skuProdId,number:this.buyNum},"POST").then((function(o){uni.hideLoading(),uni.showToast({title:"添加成功",icon:"none"}),setTimeout((function(){t.productList[t.currentIndex].selected=1,t.goosDetailshowFlag=!1,uni.showModal({title:"温馨提示",content:"商品已成功加入购物车？",confirmText:"去结算",cancelText:"继续添加",success:function(t){t.confirm?uni.switchTab({url:"../../pages/tabbar/cart/index"}):t.cancel&&console.log("用户点击取消")}})}),1e3),t.buyNum=1})).catch((function(t){uni.hideLoading(),40005==t.data.code&&uni.navigateTo({url:"../../pages_category_page2/userModule/login"})})))}}};o.default=n}}]);