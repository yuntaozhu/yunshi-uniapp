(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_category_page2-userModule-messageCenter"],{"05a3":function(e,a,t){"use strict";t.r(a);var s=t("deaa"),i=t("86e2");for(var n in i)"default"!==n&&function(e){t.d(a,e,(function(){return i[e]}))}(n);t("ac02"),t("be17");var o,r=t("f0c5"),g=Object(r["a"])(i["default"],s["b"],s["c"],!1,null,"a30baad6",null,!1,s["a"],o);a["default"]=g.exports},"1de5":function(e,a,t){"use strict";e.exports=function(e,a){return a||(a={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),a.hash&&(e+=a.hash),/["'() \t\n]/.test(e)||a.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},4086:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAAXNSR0IArs4c6QAAAGBQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////fCUcugAAAB90Uk5TAAQIDBQXGBwoPE9TVFdYY293g4eXm6u7z9Pf4+vz91rRTqUAAADBSURBVEjH7dbJDoIwFEDRqpVJRebBUu7//6ULElcdLBsx6V29vJcTdoAQsdivurbzqufmusc+NADo2w7Lp2CdaFB3KUsFOgnELSgphBBSQROIZ7hvUwlzIF5BbpMEHYgBw3jgsHZ0HLCOOOK/wTkspv0CuRd30Jv2PXQ+e7Y9IYfl5MEFvMwXBYUHD9ZXfAOD215WyMynDNaLEz9hst0meDrxCJXtVsHosimeUgeufbh24MmHp/i39eX36i9w7Hi9AStpMjWYIqLOAAAAAElFTkSuQmCC"},"86e2":function(e,a,t){"use strict";t.r(a);var s=t("9cea"),i=t.n(s);for(var n in s)"default"!==n&&function(e){t.d(a,e,(function(){return s[e]}))}(n);a["default"]=i.a},"8ea5":function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAV1BMVEUAAACZmZmbm5uYmJiampqZmZmampqXl5eZmZmbm5uYmJiampqXl5eYmJiZmZmZmZmampqampqYmJiampqYmJiZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlUCwxAAAAAHHRSTlMAKCkqKy0wMTIzNDU2d3iHiLCzur3R0u3u7/Dx1mq1agAAAGlJREFUSMft1EkOgCAQRFGc5wEcQKn7n9MbmJQJ2jHU+r9lt1KvLtE6o8AG2IoBHqQYwYoZAGwdRRQ3m54J9xdRsGJlwUL2Z0n2feC+E9a3YftDWt/I6p2cfmCP3rNPYiefo0qNydXnuwDWiBnyjEF6KgAAAABJRU5ErkJggg=="},"9cea":function(e,a,t){"use strict";var s=t("4ea4");t("99af"),t("4de4"),t("d81d"),t("ac1f"),t("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=s(t("3a6f")),n=t("7df2"),o=t("85d9"),r={data:function(){return{list:3,messageList:[],page:1,pageSize:5,loadingType:0,num:0,options:[{text:"删除",style:{backgroundColor:"#F15C48"}}]}},onShow:function(){this.page=1,this.messageList=[],this.getAllMessage()},onReachBottom:function(){1==this.loadingType?uni.stopPullDownRefresh():(this.page=this.page+1,this.getAllMessage())},methods:{parseText:function(e){(0,i.default)(e,(function(e,a){return console.log(a),a}))},formatRichText:function(e){var a=e.replace(/<img[^>]*>/gi,(function(e,a){return e=e.replace(/style="[^"]+"/gi,"").replace(/style='[^']+'/gi,""),e=e.replace(/width="[^"]+"/gi,"").replace(/width='[^']+'/gi,""),e=e.replace(/height="[^"]+"/gi,"").replace(/height='[^']+'/gi,""),e}));return a=a.replace(/style="[^"]+"/gi,(function(e,a){return e=e.replace(/width:[^;]+;/gi,"max-width:100%;").replace(/width:[^;]+;/gi,"max-width:100%;"),e})),a=a.replace(/<br[^>]*\/>/gi,""),a=a.replace(/\<img/gi,'<img style="max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;"'),a},getAllMessage:function(){var e=this;uni.showLoading({title:"加载中..."}),n.request(o.getMessage,{page:this.page,pageSize:this.pageSize},"GET").then((function(a){if(uni.hideLoading(),0==a.data.length)e.loadingType=1,e.page=e.page;else{var t=e.messageList.concat(a.data.list);e.messageList=t.map((function(e){var a=e.noticeContent.replace(/<img[^>]*>/gi,(function(e,a){return e=e.replace(/style="[^"]+"/gi,"").replace(/style='[^']+'/gi,""),e=e.replace(/width="[^"]+"/gi,"").replace(/width='[^']+'/gi,""),e=e.replace(/height="[^"]+"/gi,"").replace(/height='[^']+'/gi,""),e}));return a=a.replace(/style="[^"]+"/gi,(function(e,a){return e=e.replace(/width:[^;]+;/gi,"max-width:100%;").replace(/width:[^;]+;/gi,"max-width:100%;"),e})),a=a.replace(/<br[^>]*\/>/gi,""),a=a.replace(/\<img/gi,'<img style="max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;"'),(0,i.default)(a,(function(a,t){e.htmlData=t})),e}));var s=[];s=e.messageList.filter((function(e){return 0==e.ifRead})),e.num=s.length}})).catch((function(e){uni.hideLoading(),uni.showToast({title:"失败",icon:"none"})}))},productClick:function(e){var a=this;uni.showLoading({title:"正在删除..."}),n.request(o.delMessage,{noticeId:e.noticeId},"post").then((function(e){uni.hideLoading(),200==e.code?(console.log(e),a.page=1,a.messageList=[],a.getAllMessage()):uni.showToast({title:e.errMsg,icon:"none"})}))},allMessage:function(){var e=this;n.request(o.allMessage,{},"post").then((function(a){200==a.code?(uni.showToast({title:"全部已读",icon:"none"}),e.page=1,e.messageList=[],e.getAllMessage()):uni.showToast({title:a.errMsg,icon:"none"})}))},goToMesDetail:function(e,a,t){n.request(o.readNotice,{noticeId:e},"post").then((function(s){200==s.code?2==t?uni.navigateTo({url:"../../pages_category_page1/orderModule/orderDetails?orderId="+a+"&noticeId="+e}):uni.navigateTo({url:"messageDetail?noticeId="+e}):uni.showToast({title:s.errMsg,icon:"none"})}))}}};a.default=r},ac02:function(e,a,t){"use strict";var s=t("e963"),i=t.n(s);i.a},be17:function(e,a,t){"use strict";var s=t("beed"),i=t.n(s);i.a},beed:function(e,a,t){var s=t("c9a1");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=t("4f06").default;i("142dd0a6",s,!0,{sourceMap:!1,shadowMode:!1})},c9a1:function(e,a,t){var s=t("24fb");a=s(!1),a.push([e.i,"uni-page-body[data-v-a30baad6]{background:#f7f7f7}body.?%PAGE?%[data-v-a30baad6]{background:#f7f7f7}",""]),e.exports=a},c9f0:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABiCAMAAABQ4szXAAAAAXNSR0IArs4c6QAAAORQTFRFAAAAVVVVQEBASUlJQEBAOzs7QEBASUlJRkZGRERESEhISUlJRUVFRkZGRkZGSUlJSEhIRkZGSEhIR0dHRkZGR0dHRkZGSEhIRERER0dHSEhISEhISEhIR0dHR0dHR0dHR0dHSEhISEhISEhISEhISEhIR0dHSEhIR0dHR0dHSEhISEhISEhISEhIR0dHR0dHR0dHSEhIR0dHR0dHSEhISEhISEhIR0dHR0dHR0dHSEhIR0dHSEhISEhISEhIR0dHR0dHSEhIR0dHR0dHR0dHSEhIR0dHSEhISEhISEhIR0dHSEhImNFBmAAAAEp0Uk5TAAMEBwgNEBUWHiAqMDc+P0BFR0hMT1BRVlZYX2Boa29wdXh/gIeIio+QlZifoKivsLi6vr/Ax8jP0NXX3N/g4ejq7u/w8vT4+/yLo+G8AAADLUlEQVRo3u2aX3PSQBTFLyJB0mC2VlFpsNistVgCaU0KQQnFgAjn+38fHyD8DZSHvTvjyH2D7MyPS845ezcTon+0TOm6rm3btqEN6WBV/SAI2q7rXtm2bXMiAyGEkFJKPwzDeO0XwOFCNre+MYR4++UH8Iuvy21kpZkg7kCQHqTVTDDyLCPxWeWTIq3bPkZehYg8mLyKlURkXnUB3zGIiAQks0kM47ILRE7qyyjmdmh9hrhurjXtcGdP8rTOMJKQO3r8kemtIRuwmIECksjDbdoxGtwtxjERkZeaJBwxykbUiUjCfec6S2QFdT7BtAGTzAQAQiJqoElEccTFM5rASBokHCHEKn0kW6BWEsAzdtKnzRWoRhMIzazAG/EEqtXHKFsfDk+gWklmg6zTjad1gqvoBpoJo8UzVdqFrxVIEpGht8UEVqUZBLdCX4v9/nwADjT5IwYQ14Wox0i0IAUQzzd7I0Jbj/eXurEAQ4f3sRqaQrCrx0rgayUaCTwTiUZiAxFRtMKMuO+jAEwiiWCpopjdiZKIjHgxJIqEe9R3EKV67bv2ZRvsgR6nLVmLw75k9/7qrjmN0HfY3R+zH9B2hBrrBZKn/rz0ohYcqj94DI6v18cQP/2eQVHNZk8vnwcWx5h5Qk1Fs2Occ4efygwWzjApPbfobDr5po6I72g9t+gBN1Ih8cME5cNrqhgWVBKFRCd3aEl+gBopJeYHqB2eQTs5tUSqYljYv6I0QZkUE+nhUEi10CLlxLPp9GzfgnOMS+qJdIf7PddzPVwTA7E4xEX29RoGeQ4i1dDLZ10uDFElFmL65+0OoQ/EQ6QLjItZgZpKSj2R/KwnFPe4IzZiKSNeKxgW+Yh0g05WoDISC4OFLJd1jV6Ok0hVDApbo8Y5sRKpg5vNkbBFzMTyxgCy+YmHSN76gWizYyZicbyKV2fzrjIR19S5DFRmYr6XOnDbnVxEulikTGkyLeshpknqLwOVnTjfLXZ3Ej7ifEd8xGfSRiw84Q29+prXR6SP77PHZD7ivsH8RDwRT8T/lxgqe7h4PFGciCfiibhn3ZWtprpHE9XVccRGqK4yXuz6C4hnBrDFj4dVAAAAAElFTkSuQmCC"},deaa:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return s}));var s={uSwipeAction:t("8a6a").default},i=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("v-uni-view",{staticClass:"messageCenter"},[e.messageList.length>0?s("v-uni-view",[s("v-uni-view",{staticClass:"flex-display flex-sp-between fs28 pad-bot-20"},[s("v-uni-view",[e._v("未读消息"+e._s(e.num)+"条")]),s("v-uni-view",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.allMessage.apply(void 0,arguments)}}},[e._v("全部已读")])],1),e._l(e.messageList,(function(a,i){return s("u-swipe-action",{key:a.noticeId,staticClass:"u-swipe-action",attrs:{show:a.show,index:i,options:e.options},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.productClick(a)}}},[s("v-uni-view",{staticClass:"messageItem",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToMesDetail(a.noticeId,a.only,a.jump)}}},[s("v-uni-view",{staticClass:"messageBox"},[s("v-uni-view",{staticClass:"messageType"},[1==a.noticeType?s("v-uni-view",{staticClass:"messageTypeL"},[s("v-uni-view",{staticClass:"iconBox"},[s("v-uni-image",{attrs:{src:t("4086"),alt:""}})],1),s("span",[e._v("订单消息")])],1):s("v-uni-view",{staticClass:"messageTypeL"},[s("v-uni-view",{staticClass:"iconBox"},[s("v-uni-image",{attrs:{src:t("4086"),alt:""}})],1),s("span",[e._v("系统公告")])],1),s("v-uni-view",{staticClass:"messageTypeR"},[e._v(e._s(a.createTime))]),0==a.ifRead?s("v-uni-view",{staticClass:"redBox"}):e._e()],1),s("v-uni-view",{staticClass:"messageInfo mar-left-35 mar-right-35"},[s("v-uni-rich-text",{attrs:{nodes:a.htmlData}})],1)],1),s("v-uni-view",{staticClass:"messageBtn"},[s("span",{staticClass:"viewDetail"},[e._v("查看详情")]),s("span",{staticClass:"arrow"})])],1)],1)}))],2):s("v-uni-view",{staticClass:"mar-top-60 empty-box"},[s("v-uni-image",{staticClass:"question-empty",attrs:{src:t("c9f0")}}),s("v-uni-view",{staticClass:"tohome-box flex-items-plus"},[e._v("暂无消息")])],1)],1)},n=[]},e963:function(e,a,t){var s=t("ef9a");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=t("4f06").default;i("2733675e",s,!0,{sourceMap:!1,shadowMode:!1})},ef9a:function(e,a,t){var s=t("24fb"),i=t("1de5"),n=t("8ea5");a=s(!1);var o=i(n);a.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 页面左右间距 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.messageCenter[data-v-a30baad6]{background:#f7f7f7;padding:%?30?%;height:100%;width:100%}.messageCenter .empty-box[data-v-a30baad6]{display:flex;justify-content:center;flex-direction:column;align-items:center}.messageCenter .empty-box .tohome-box[data-v-a30baad6]{color:#999;margin-top:%?50?%}.messageCenter .empty-box .question-empty[data-v-a30baad6]{width:%?113?%;height:%?98?%}.messageCenter .u-swipe-action[data-v-a30baad6]{margin-bottom:%?20?%!important}.messageCenter .messageItem[data-v-a30baad6]{width:100%;background:#fff;border-radius:%?16?%}.messageCenter .messageItem .messageBox .messageType[data-v-a30baad6]{padding:%?30?%;display:flex;align-items:center;justify-content:space-between;position:relative}.messageCenter .messageItem .messageBox .messageType .redBox[data-v-a30baad6]{width:%?20?%;height:%?20?%;background-color:red;border-radius:50%;position:absolute;right:%?30?%;top:%?20?%}.messageCenter .messageItem .messageBox .messageType .iconBox[data-v-a30baad6]{border-radius:50%;background:#c5aa7b;width:%?60?%;height:%?60?%;display:flex;align-items:center;justify-content:center;margin-right:%?20?%}.messageCenter .messageItem .messageBox .messageType .messageTypeL[data-v-a30baad6]{display:flex;align-items:center}.messageCenter .messageItem .messageBox .messageType .messageTypeL uni-image[data-v-a30baad6]{width:%?50?%;height:%?50?%;border-radius:50%}.messageCenter .messageItem .messageBox .messageType .messageTypeL span[data-v-a30baad6]{font-size:%?32?%;color:#333}.messageCenter .messageItem .messageBox .messageType .messageTypeR[data-v-a30baad6]{color:#999;font-size:%?26?%}.messageCenter .messageItem .messageBox .messageInfo[data-v-a30baad6]{padding-bottom:%?35?%;border-bottom:%?1?% solid #eee}.messageCenter .messageItem .messageBox .messageInfo img[data-v-a30baad6]{width:100%;margin-bottom:%?25?%}.messageCenter .messageItem .messageBox .messageInfo p[data-v-a30baad6]{padding:0 %?40?%;color:#999;font-size:%?28?%}.messageCenter .messageItem .messageBtn[data-v-a30baad6]{height:%?88?%;display:flex;justify-content:space-between;align-items:center;padding:0 %?40?%}.messageCenter .messageItem .messageBtn .viewDetail[data-v-a30baad6]{color:#333;font-size:%?28?%}.messageCenter .messageItem .messageBtn .arrow[data-v-a30baad6]{display:block;width:%?28?%;height:%?28?%;background:url('+o+") no-repeat 50%;background-size:contain}",""]),e.exports=a}}]);